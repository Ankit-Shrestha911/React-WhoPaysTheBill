{"ast":null,"code":"var _jsxFileName = \"A:\\\\React\\\\whopaythebill\\\\src\\\\context\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst myContext = /*#__PURE__*/React.createContext();\n\nclass MyProvider extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      stage: 1,\n      players: [],\n      result: \"Loading...\"\n    };\n\n    this.addPlayerHandler = name => {\n      this.setState(prevState => ({\n        players: [...prevState.players, name]\n      })); // console.log(this.state.players)\n    };\n\n    this.removePlayerHandler = index => {\n      let newArray = this.state.players;\n      newArray.splice(index, 1);\n      this.setState({\n        players: newArray\n      });\n    };\n\n    this.nextHandler = () => {\n      const {\n        players\n      } = this.state;\n      if (players.length < 2) toast.error(\"You need to add more than one players\", {\n        position: toast.POSITION.TOP_LEFT,\n        autoClose: 3000\n      });else {\n        this.setState({\n          stage: 2\n        });\n        setTimeout(() => {\n          this.getLooserHandler();\n        }, 2000);\n      }\n    };\n\n    this.getLooserHandler = () => {\n      const {\n        players\n      } = this.state;\n      this.setState({\n        result: \"Loading...\"\n      });\n      let resultIndex = Math.floor(Math.random() * players.length);\n      this.setState({\n        result: players[resultIndex]\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(myContext.Provider, {\n        value: {\n          state: this.state,\n          addPlayers: this.addPlayerHandler,\n          removePlayer: this.removePlayerHandler,\n          next: this.nextHandler,\n          getlooser: this.getLooserHandler\n        },\n        children: this.props.children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport { myContext, MyProvider };","map":{"version":3,"sources":["A:/React/whopaythebill/src/context/index.js"],"names":["React","Component","ToastContainer","toast","myContext","createContext","MyProvider","state","stage","players","result","addPlayerHandler","name","setState","prevState","removePlayerHandler","index","newArray","splice","nextHandler","length","error","position","POSITION","TOP_LEFT","autoClose","setTimeout","getLooserHandler","resultIndex","Math","floor","random","render","addPlayers","removePlayer","next","getlooser","props","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;;;AACA,MAAMC,SAAS,gBAAGJ,KAAK,CAACK,aAAN,EAAlB;;AAEA,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACjCM,KADiC,GACzB;AACNC,MAAAA,KAAK,EAAE,CADD;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNC,MAAAA,MAAM,EAAE;AAHF,KADyB;;AAAA,SAOjCC,gBAPiC,GAObC,IAAD,IAAU;AAC3B,WAAKC,QAAL,CAAeC,SAAD,KAAgB;AAC5BL,QAAAA,OAAO,EAAE,CAAC,GAAGK,SAAS,CAACL,OAAd,EAAuBG,IAAvB;AADmB,OAAhB,CAAd,EAD2B,CAI3B;AACD,KAZgC;;AAAA,SAcjCG,mBAdiC,GAcVC,KAAD,IAAW;AAC/B,UAAIC,QAAQ,GAAG,KAAKV,KAAL,CAAWE,OAA1B;AACAQ,MAAAA,QAAQ,CAACC,MAAT,CAAgBF,KAAhB,EAAuB,CAAvB;AACA,WAAKH,QAAL,CAAc;AACZJ,QAAAA,OAAO,EAAEQ;AADG,OAAd;AAGD,KApBgC;;AAAA,SAsBjCE,WAtBiC,GAsBnB,MAAM;AAClB,YAAM;AAAEV,QAAAA;AAAF,UAAc,KAAKF,KAAzB;AACA,UAAIE,OAAO,CAACW,MAAR,GAAiB,CAArB,EACEjB,KAAK,CAACkB,KAAN,CAAY,uCAAZ,EAAqD;AACnDC,QAAAA,QAAQ,EAAEnB,KAAK,CAACoB,QAAN,CAAeC,QAD0B;AAEnDC,QAAAA,SAAS,EAAE;AAFwC,OAArD,EADF,KAKK;AACH,aAAKZ,QAAL,CAAc;AACZL,UAAAA,KAAK,EAAE;AADK,SAAd;AAIAkB,QAAAA,UAAU,CAAC,MAAM;AACf,eAAKC,gBAAL;AACD,SAFS,EAEP,IAFO,CAAV;AAGD;AACF,KAtCgC;;AAAA,SAwCjCA,gBAxCiC,GAwCd,MAAM;AACvB,YAAM;AAAElB,QAAAA;AAAF,UAAc,KAAKF,KAAzB;AACA,WAAKM,QAAL,CAAc;AACZH,QAAAA,MAAM,EAAE;AADI,OAAd;AAGA,UAAIkB,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBtB,OAAO,CAACW,MAAnC,CAAlB;AACA,WAAKP,QAAL,CAAc;AACZH,QAAAA,MAAM,EAAED,OAAO,CAACmB,WAAD;AADH,OAAd;AAGD,KAjDgC;AAAA;;AAkDjCI,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,SAAD,CAAW,QAAX;AACE,QAAA,KAAK,EAAE;AACLzB,UAAAA,KAAK,EAAE,KAAKA,KADP;AAEL0B,UAAAA,UAAU,EAAE,KAAKtB,gBAFZ;AAGLuB,UAAAA,YAAY,EAAE,KAAKnB,mBAHd;AAILoB,UAAAA,IAAI,EAAE,KAAKhB,WAJN;AAKLiB,UAAAA,SAAS,EAAE,KAAKT;AALX,SADT;AAAA,kBASG,KAAKU,KAAL,CAAWC;AATd;AAAA;AAAA;AAAA;AAAA,cADF,eAYE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA,oBADF;AAgBD;;AAnEgC;;AAsEnC,SAASlC,SAAT,EAAoBE,UAApB","sourcesContent":["import React, { Component } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nconst myContext = React.createContext();\r\n\r\nclass MyProvider extends Component {\r\n  state = {\r\n    stage: 1,\r\n    players: [],\r\n    result: \"Loading...\",\r\n  };\r\n\r\n  addPlayerHandler = (name) => {\r\n    this.setState((prevState) => ({\r\n      players: [...prevState.players, name],\r\n    }));\r\n    // console.log(this.state.players)\r\n  };\r\n\r\n  removePlayerHandler = (index) => {\r\n    let newArray = this.state.players;\r\n    newArray.splice(index, 1);\r\n    this.setState({\r\n      players: newArray,\r\n    });\r\n  };\r\n\r\n  nextHandler = () => {\r\n    const { players } = this.state;\r\n    if (players.length < 2)\r\n      toast.error(\"You need to add more than one players\", {\r\n        position: toast.POSITION.TOP_LEFT,\r\n        autoClose: 3000,\r\n      });\r\n    else {\r\n      this.setState({\r\n        stage: 2,\r\n      });\r\n\r\n      setTimeout(() => {\r\n        this.getLooserHandler();\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  getLooserHandler = () => {\r\n    const { players } = this.state;\r\n    this.setState({\r\n      result: \"Loading...\",\r\n    });\r\n    let resultIndex = Math.floor(Math.random() * players.length);\r\n    this.setState({\r\n      result: players[resultIndex],\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <myContext.Provider\r\n          value={{\r\n            state: this.state,\r\n            addPlayers: this.addPlayerHandler,\r\n            removePlayer: this.removePlayerHandler,\r\n            next: this.nextHandler,\r\n            getlooser: this.getLooserHandler,\r\n          }}\r\n        >\r\n          {this.props.children}\r\n        </myContext.Provider>\r\n        <ToastContainer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { myContext, MyProvider };\r\n"]},"metadata":{},"sourceType":"module"}